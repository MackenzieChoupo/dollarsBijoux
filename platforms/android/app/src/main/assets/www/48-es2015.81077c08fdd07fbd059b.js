(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{"4/Id":function(n,l,t){"use strict";t.r(l);var i=t("8Y7J"),o=t("mrSG"),u=t("ZZ/e"),e=t("KTio"),c=t("sf9b"),r=t("UmVP"),a=t("OMjV");class b{constructor(n,l,t,i,o,u,e,c){this.navCtrl=n,this.shared=l,this.config=t,this.http=i,this.loading=o,this.applicationRef=u,this.popoverCtrl=e,this.events=c,this.page=1,this.notifications=new Array,this.httpRunning=!0,this.httpRunning=!0,this.getNotifications(),c.subscribe("cardScratched",n=>{this.updateList(n)})}getNotifications(){this.httpRunning=!0,this.loading.show(),this.http.get(this.config.url+"/api/appusers/ionic_coupon_notification/?insecure=cool&user_id="+this.shared.customerData.id).subscribe(n=>{this.httpRunning=!1,this.loading.hide();let l=n.data;if(1==this.page&&(this.notifications=new Array),0!=l.length){this.page++;for(let n of l)this.notifications.push(n)}this.infinite.disabled=!0,0==l.length&&(this.infinite.disabled=!0),this.applicationRef.tick(),console.log(l)})}openScratchCard(n){return o.b(this,void 0,void 0,(function*(){const l=yield this.popoverCtrl.create({component:a.a,event,componentProps:{data:n}});return yield l.present()}))}refreshPage(){this.page=1,this.getNotifications()}openShop(){this.navCtrl.navigateForward("/products/0/0/newest")}ionViewDidLoad(){}updateList(n){for(let l of this.notifications)l.id==n.id&&(l.is_view=1,this.shared.toast("Congratulations you Get "+l.message+" use this code : "+l.code),this.http.get(this.config.url+"/api/appusers/ionic_notification_update/?insecure=cool&notification_id="+l.id).subscribe(n=>{console.log(n)}))}ngOnInit(){}}class s{}var p=t("pMnS"),g=t("oBZk"),d=t("SVse"),f=t("taci"),h=t("IheW"),m=i.zb({encapsulation:0,styles:[["ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]{margin-top:50%}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{text-align:center}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{zoom:3.9;color:#d3d3d3}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background:var(--ion-color-primary);--border-radius:0px;height:30px}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin-top:2px}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:14px;color:gray;margin-top:0}.note[_ngcontent-%COMP%]{color:red;width:80px;text-align:center}ion-list[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-list[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-secondary)}.pop[_ngcontent-%COMP%]{width:100%;height:100%}.popover-md[_ngcontent-%COMP%]   .popover-content[_ngcontent-%COMP%]{width:400px!important;height:100px}"]],data:{}});function C(n){return i.Wb(0,[(n()(),i.Bb(0,0,null,null,26,"ion-grid",[["class","ion-no-padding"]],null,null,null,g.rb,g.r)),i.Ab(1,49152,null,0,u.C,[i.j,i.p,i.F],null,null),(n()(),i.Bb(2,0,null,0,5,"ion-row",[["class","ion-no-padding"]],null,null,null,g.Jb,g.J)),i.Ab(3,49152,null,0,u.lb,[i.j,i.p,i.F],null,null),(n()(),i.Bb(4,0,null,0,3,"ion-col",[["class","ion-no-padding"],["size","12"]],null,null,null,g.mb,g.m)),i.Ab(5,49152,null,0,u.v,[i.j,i.p,i.F],{size:[0,"size"]},null),(n()(),i.Bb(6,0,null,0,1,"ion-icon",[["name","notifications"]],null,null,null,g.tb,g.t)),i.Ab(7,49152,null,0,u.E,[i.j,i.p,i.F],{name:[0,"name"]},null),(n()(),i.Bb(8,0,null,0,5,"ion-row",[["class","ion-no-padding"]],null,null,null,g.Jb,g.J)),i.Ab(9,49152,null,0,u.lb,[i.j,i.p,i.F],null,null),(n()(),i.Bb(10,0,null,0,3,"ion-col",[["class","ion-no-padding"],["size","12"]],null,null,null,g.mb,g.m)),i.Ab(11,49152,null,0,u.v,[i.j,i.p,i.F],{size:[0,"size"]},null),(n()(),i.Bb(12,0,null,0,1,"h4",[],null,null,null,null,null)),(n()(),i.Ub(-1,null,["Votre liste de coupons \xe0 gratter est vide"])),(n()(),i.Bb(14,0,null,0,5,"ion-row",[["class","ion-no-padding"]],null,null,null,g.Jb,g.J)),i.Ab(15,49152,null,0,u.lb,[i.j,i.p,i.F],null,null),(n()(),i.Bb(16,0,null,0,3,"ion-col",[["class","ion-no-padding"],["size","12"]],null,null,null,g.mb,g.m)),i.Ab(17,49152,null,0,u.v,[i.j,i.p,i.F],{size:[0,"size"]},null),(n()(),i.Bb(18,0,null,0,1,"h5",[],null,null,null,null,null)),(n()(),i.Ub(-1,null,["Continuer les achats!"])),(n()(),i.Bb(20,0,null,0,6,"ion-row",[["class","ion-no-padding"]],null,null,null,g.Jb,g.J)),i.Ab(21,49152,null,0,u.lb,[i.j,i.p,i.F],null,null),(n()(),i.Bb(22,0,null,0,4,"ion-col",[["class","ion-no-padding"],["size","12"]],null,null,null,g.mb,g.m)),i.Ab(23,49152,null,0,u.v,[i.j,i.p,i.F],{size:[0,"size"]},null),(n()(),i.Bb(24,0,null,0,2,"ion-button",[["color","secondary"]],null,[[null,"click"]],(function(n,l,t){var i=!0;return"click"===l&&(i=!1!==n.component.openShop()&&i),i}),g.eb,g.e)),i.Ab(25,49152,null,0,u.m,[i.j,i.p,i.F],{color:[0,"color"]},null),(n()(),i.Ub(-1,0,["Explorer"]))],(function(n,l){n(l,5,0,"12"),n(l,7,0,"notifications"),n(l,11,0,"12"),n(l,17,0,"12"),n(l,23,0,"12"),n(l,25,0,"secondary")}),null)}function _(n){return i.Wb(0,[(n()(),i.Bb(0,0,null,null,2,"ion-button",[["color","secondary"],["ion-button",""]],null,[[null,"click"]],(function(n,l,t){var i=!0;return"click"===l&&(i=!1!==n.component.openScratchCard(n.parent.parent.context.$implicit)&&i),i}),g.eb,g.e)),i.Ab(1,49152,null,0,u.m,[i.j,i.p,i.F],{color:[0,"color"]},null),(n()(),i.Ub(-1,0,[" Ouvrir la carte \xe0 gratter "]))],(function(n,l){n(l,1,0,"secondary")}),null)}function P(n){return i.Wb(0,[(n()(),i.Bb(0,0,null,null,2,"h2",[],null,null,null,null,null)),(n()(),i.Ub(1,null,["",": ",""])),i.Qb(2,1)],null,(function(n,l){var t=i.Vb(l,1,0,n(l,2,0,i.Nb(l.parent.parent.parent,0),"Code"));n(l,1,0,t,l.parent.parent.context.$implicit.code)}))}function v(n){return i.Wb(0,[(n()(),i.Bb(0,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),i.Ub(1,null,["",""]))],null,(function(n,l){n(l,1,0,l.parent.parent.context.$implicit.message)}))}function B(n){return i.Wb(0,[(n()(),i.Bb(0,0,null,null,16,"ion-item",[],null,null,null,g.Ab,g.y)),i.Ab(1,49152,null,0,u.J,[i.j,i.p,i.F],null,null),(n()(),i.Bb(2,0,null,0,1,"ion-icon",[["name","notifications"],["slot","start"]],null,null,null,g.tb,g.t)),i.Ab(3,49152,null,0,u.E,[i.j,i.p,i.F],{name:[0,"name"]},null),(n()(),i.qb(16777216,null,0,1,null,_)),i.Ab(5,16384,null,0,d.k,[i.W,i.S],{ngIf:[0,"ngIf"]},null),(n()(),i.Bb(6,0,null,0,5,"ion-label",[],null,null,null,g.Bb,g.B)),i.Ab(7,49152,null,0,u.P,[i.j,i.p,i.F],null,null),(n()(),i.qb(16777216,null,0,1,null,P)),i.Ab(9,16384,null,0,d.k,[i.W,i.S],{ngIf:[0,"ngIf"]},null),(n()(),i.qb(16777216,null,0,1,null,v)),i.Ab(11,16384,null,0,d.k,[i.W,i.S],{ngIf:[0,"ngIf"]},null),(n()(),i.Bb(12,0,null,0,4,"ion-note",[["class","note"],["slot","end"]],null,null,null,g.Fb,g.F)),i.Ab(13,49152,null,0,u.ab,[i.j,i.p,i.F],null,null),(n()(),i.Ub(-1,0,["Date d'expiration"])),(n()(),i.Bb(15,0,null,0,1,"small",[],null,null,null,null,null)),(n()(),i.Ub(16,null,["",""]))],(function(n,l){n(l,3,0,"notifications"),n(l,5,0,0==l.parent.context.$implicit.is_view),n(l,9,0,1==l.parent.context.$implicit.is_view),n(l,11,0,1==l.parent.context.$implicit.is_view)}),(function(n,l){n(l,16,0,l.parent.context.$implicit.expire_date)}))}function O(n){return i.Wb(0,[(n()(),i.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),i.qb(16777216,null,null,1,null,B)),i.Ab(2,16384,null,0,d.k,[i.W,i.S],{ngIf:[0,"ngIf"]},null)],(function(n,l){n(l,2,0,"1"==l.context.$implicit.type)}),null)}function A(n){return i.Wb(0,[i.Pb(0,f.a,[r.a]),i.Sb(671088640,1,{infinite:0}),(n()(),i.Bb(2,0,null,null,16,"ion-header",[],null,null,null,g.sb,g.s)),i.Ab(3,49152,null,0,u.D,[i.j,i.p,i.F],null,null),(n()(),i.Bb(4,0,null,0,14,"ion-toolbar",[],null,null,null,g.Zb,g.Z)),i.Ab(5,49152,null,0,u.Eb,[i.j,i.p,i.F],null,null),(n()(),i.Bb(6,0,null,0,3,"ion-menu-button",[["slot","start"]],null,null,null,g.Db,g.E)),i.Ab(7,49152,null,0,u.T,[i.j,i.p,i.F],null,null),(n()(),i.Bb(8,0,null,0,1,"ion-icon",[["name","menu"]],null,null,null,g.tb,g.t)),i.Ab(9,49152,null,0,u.E,[i.j,i.p,i.F],{name:[0,"name"]},null),(n()(),i.Bb(10,0,null,0,2,"ion-title",[],null,null,null,g.Xb,g.X)),i.Ab(11,49152,null,0,u.Cb,[i.j,i.p,i.F],null,null),(n()(),i.Ub(-1,0,[" Notifications"])),(n()(),i.Bb(13,0,null,0,5,"ion-buttons",[["slot","end"]],null,null,null,g.fb,g.f)),i.Ab(14,49152,null,0,u.n,[i.j,i.p,i.F],null,null),(n()(),i.Bb(15,0,null,0,3,"ion-button",[["fill","clear"]],null,[[null,"click"]],(function(n,l,t){var i=!0;return"click"===l&&(i=!1!==n.component.refreshPage()&&i),i}),g.eb,g.e)),i.Ab(16,49152,null,0,u.m,[i.j,i.p,i.F],{fill:[0,"fill"]},null),(n()(),i.Bb(17,0,null,0,1,"ion-icon",[["name","refresh"]],null,null,null,g.tb,g.t)),i.Ab(18,49152,null,0,u.E,[i.j,i.p,i.F],{name:[0,"name"]},null),(n()(),i.Bb(19,0,null,null,11,"ion-content",[],null,null,null,g.nb,g.n)),i.Ab(20,49152,null,0,u.w,[i.j,i.p,i.F],null,null),(n()(),i.qb(16777216,null,0,1,null,C)),i.Ab(22,16384,null,0,d.k,[i.W,i.S],{ngIf:[0,"ngIf"]},null),(n()(),i.Bb(23,0,null,0,3,"ion-list",[],null,null,null,g.Cb,g.C)),i.Ab(24,49152,null,0,u.Q,[i.j,i.p,i.F],null,null),(n()(),i.qb(16777216,null,0,1,null,O)),i.Ab(26,278528,null,0,d.j,[i.W,i.S,i.x],{ngForOf:[0,"ngForOf"]},null),(n()(),i.Bb(27,0,null,0,3,"ion-infinite-scroll",[],null,[[null,"ionInfinite"]],(function(n,l,t){var i=!0;return"ionInfinite"===l&&(i=!1!==n.component.getNotifications()&&i),i}),g.wb,g.v)),i.Ab(28,49152,[[1,4],["infinite",4]],0,u.G,[i.j,i.p,i.F],null,null),(n()(),i.Bb(29,0,null,0,1,"ion-infinite-scroll-content",[],null,null,null,g.vb,g.w)),i.Ab(30,49152,null,0,u.H,[i.j,i.p,i.F],null,null)],(function(n,l){var t=l.component;n(l,9,0,"menu"),n(l,16,0,"clear"),n(l,18,0,"refresh"),n(l,22,0,0==t.notifications.length&&0==t.httpRunning),n(l,26,0,t.notifications)}),null)}function M(n){return i.Wb(0,[(n()(),i.Bb(0,0,null,null,1,"app-notifications",[],null,null,null,A,m)),i.Ab(1,114688,null,0,b,[u.Lb,r.a,c.a,h.c,e.a,i.g,u.Pb,u.f],null,null)],(function(n,l){n(l,1,0)}),null)}var F=i.xb("app-notifications",b,M,{},{},[]),w=t("s7LF"),j=t("iInd"),x=t("wWlB");t.d(l,"NotificationsPageModuleNgFactory",(function(){return L}));var L=i.yb(s,[],(function(n){return i.Kb([i.Lb(512,i.m,i.jb,[[8,[p.a,F]],[3,i.m],i.D]),i.Lb(4608,d.m,d.l,[i.z,[2,d.v]]),i.Lb(4608,w.m,w.m,[]),i.Lb(4608,u.c,u.c,[i.F,i.g]),i.Lb(4608,u.Kb,u.Kb,[u.c,i.m,i.w]),i.Lb(4608,u.Pb,u.Pb,[u.c,i.m,i.w]),i.Lb(1073742336,d.b,d.b,[]),i.Lb(1073742336,w.l,w.l,[]),i.Lb(1073742336,w.c,w.c,[]),i.Lb(1073742336,u.Gb,u.Gb,[]),i.Lb(1073742336,j.o,j.o,[[2,j.t],[2,j.m]]),i.Lb(1073742336,x.a,x.a,[]),i.Lb(1073742336,s,s,[]),i.Lb(1024,j.k,(function(){return[[{path:"",component:b}]]}),[])])}))}}]);