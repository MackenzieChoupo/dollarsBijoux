{"version":3,"sources":["./src/app/my-order-detail/my-order-detail.page.html","./src/app/my-order-detail/my-order-detail.module.ts","./src/app/my-order-detail/my-order-detail.page.scss","./src/app/my-order-detail/my-order-detail.page.ts"],"names":[],"mappings":"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","file":"my-order-detail-my-order-detail-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button icon=\\\"arrow-round-back\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>\\n      {{'Détail de la commande'| translate }}\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-card>\\n    <ion-card-header>\\n      <h4><b>{{'Adresse de livraison'|translate}}</b></h4>\\n    </ion-card-header>\\n    <ion-card-content>\\n      {{order.shipping.address_1+', '+order.shipping.city+', '+order.shipping.state+' '+order.shipping.postcode+',\\n      '+order.shipping.country}}\\n    </ion-card-content>\\n  </ion-card>\\n\\n  <ion-card>\\n    <ion-card-header>\\n      <h4><b>{{'Adresse de facturation'|translate}}</b></h4>\\n    </ion-card-header>\\n    <ion-card-content>\\n      {{order.billing.address_1+', '+order.billing.city+', '+order.billing.state+' '+order.billing.postcode+',\\n      '+order.billing.country}}\\n    </ion-card-content>\\n  </ion-card>\\n\\n  <ion-card *ngFor=\\\"let s of order.shipping_lines\\\">\\n    <ion-card-header>\\n      <h4><b>{{'Methode de livraison'|translate}}</b></h4>\\n    </ion-card-header>\\n    <ion-card-content>\\n      {{s.method_title}}\\n    </ion-card-content>\\n  </ion-card>\\n\\n  <ion-card>\\n    <ion-card-header>\\n      <h4><b>{{'Shipping Total'|translate}}</b></h4>\\n    </ion-card-header>\\n    <ion-card-content>\\n      {{addCurrecny(order.shipping_total)}}\\n    </ion-card-content>\\n  </ion-card>\\n\\n  <ion-card class=\\\"order-product\\\">\\n    <ion-card-header>\\n      {{'Produits'|translate}}\\n    </ion-card-header>\\n    <ion-card-content *ngFor=\\\"let product of order.line_items\\\">\\n      <ion-row>\\n        <ion-col>\\n          <h3>{{product.name}}\\n            <br>\\n            <small>{{product.categories_name}}</small>\\n          </h3>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col class=\\\"ion-text-left\\\" size=\\\"6\\\">{{'Prix' |translate}}&nbsp;:&nbsp;</ion-col>\\n        <ion-col class=\\\"ion-text-right\\\" size=\\\"6\\\">{{addCurrecny(product.price)}}</ion-col>\\n      </ion-row>\\n\\n      <ion-row *ngFor=\\\"let att of product.meta_data\\\">\\n        <ion-col size=\\\"6\\\">{{att.key}}&nbsp;:</ion-col>\\n        <ion-col size=\\\"6\\\">{{att.value}}</ion-col>\\n      </ion-row>\\n\\n      <ion-row>\\n        <ion-col class=\\\"ion-text-left\\\" size=\\\"6\\\">{{'Quantité'|translate}}&nbsp;:&nbsp;</ion-col>\\n        <ion-col class=\\\"ion-text-right\\\" size=\\\"6\\\">{{product.quantity}}</ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col class=\\\"ion-text-left\\\" size=\\\"6\\\">\\n          <strong>{{'Total' |translate}}</strong>&nbsp;:&nbsp;</ion-col>\\n        <ion-col class=\\\"ion-text-right\\\" size=\\\"6\\\">\\n          <strong>{{addCurrecny(product.total)}}</strong>\\n        </ion-col>\\n      </ion-row>\\n    </ion-card-content>\\n  </ion-card>\\n  <ion-card>\\n    <ion-card-header>\\n      {{'Détails du prix'|translate}}\\n    </ion-card-header>\\n    <ion-card-content>\\n      <ion-row>\\n        <ion-col size=\\\"6\\\">\\n          {{'Shipping'|translate}} {{'Tax'|translate}}\\n        </ion-col>\\n        <ion-col class=\\\"ion-text-right\\\" col-6>\\n          {{addCurrecny(order.shipping_tax) }}\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col size=\\\"6\\\">\\n          {{'Shipping'|translate}}\\n        </ion-col>\\n        <ion-col class=\\\"ion-text-right\\\" size=\\\"6\\\">\\n          {{addCurrecny(order.shipping_total)}}\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col size=\\\"6\\\">\\n          {{'Tax'|translate}}\\n        </ion-col>\\n        <ion-col class=\\\"ion-text-right\\\" size=\\\"6\\\">\\n          {{addCurrecny(order.discount_total)}}\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col size=\\\"6\\\">\\n          {{'Total'|translate}}\\n        </ion-col>\\n        <ion-col class=\\\"ion-text-right\\\" size=\\\"6\\\">\\n          <strong>{{addCurrecny(order.total)}}</strong>\\n        </ion-col>\\n      </ion-row>\\n    </ion-card-content>\\n  </ion-card>\\n  <ion-card *ngIf=\\\"order.coupon_lines!=0\\\">\\n    <ion-card-header>\\n      {{'Code appliqué'|translate}}\\n    </ion-card-header>\\n    <ion-card-content>\\n      <ion-row>\\n        <ion-col col-6>\\n          {{'Code promo'|translate}}\\n        </ion-col>\\n        <ion-col col-6 class=\\\"ion-text-right\\\">\\n          {{'Code promo'|translate}}\\n        </ion-col>\\n      </ion-row>\\n      <ion-row *ngFor=\\\"let c of order.coupon_lines\\\">\\n        <ion-col col-6>\\n          {{c.code}}\\n        </ion-col>\\n        <ion-col col-6 class=\\\"ion-text-right\\\">\\n          {{addCurrecny(c.discount)}}\\n        </ion-col>\\n      </ion-row>\\n    </ion-card-content>\\n  </ion-card>\\n\\n  <ion-card *ngIf=\\\"order.customer_note!=''\\\">\\n    <ion-card-header>\\n      {{'Infos sur la commande'|translate}}\\n    </ion-card-header>\\n    <ion-card-content>\\n      {{order.customer_note}}\\n    </ion-card-content>\\n  </ion-card>\\n\\n  <ion-card *ngIf=\\\"getTrackingId()!=''\\\">\\n    <ion-card-header>\\n      {{'Track Order'|translate}}\\n    </ion-card-header>\\n    <ion-card-content>\\n      <ion-row>\\n        <ion-col col-6>\\n          {{getTrackingId()}}\\n        </ion-col>\\n        <ion-col col-6 class=\\\"ion-text-right\\\">\\n          <ion-button color=\\\"secondary\\\" icon-end (click)=\\\"openTrackingPage()\\\">{{'Track'|translate}}\\n            <ion-icon name=\\\"locate\\\"></ion-icon>\\n          </ion-button>\\n        </ion-col>\\n      </ion-row>\\n    </ion-card-content>\\n  </ion-card>\\n  <ion-card>\\n    <ion-card-header>\\n      <h4><b>{{'Mode de paiement'|translate}}</b></h4>\\n    </ion-card-header>\\n    <ion-card-content>\\n      {{order.payment_method_title}}\\n    </ion-card-content>\\n  </ion-card>\\n\\n\\n\\n  <ion-item\\n    *ngIf=\\\"order.status!='cancelled' && order.status!='completed' && order.status!='refunded' && order.status!='failed' && order.status!='processing'\\\">\\n    <ion-button *ngIf=\\\"config.orderCancelButton\\\" color=\\\"danger\\\" expand=\\\"block\\\" (click)=\\\"cancelOrder()\\\">\\n      {{'Annuler la commande'|translate}}\\n    </ion-button>\\n  </ion-item>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MyOrderDetailPage } from './my-order-detail.page';\nimport { PipesModule } from 'src/pipes/pipes.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MyOrderDetailPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    PipesModule\n  ],\n  declarations: [MyOrderDetailPage]\n})\nexport class MyOrderDetailPageModule {}\n","export default \"ion-header ion-toolbar {\\n  --background: var(--ion-color-primary);\\n  --color:white;\\n}\\nion-header ion-toolbar ion-icon {\\n  zoom: 1.4;\\n}\\nion-content ion-card ion-card-header {\\n  font-size: 20px;\\n  margin-bottom: 0;\\n  margin-top: 0;\\n  color: black;\\n  background-color: lightgray;\\n}\\nion-content ion-card ion-card-header h4 {\\n  margin-top: 0;\\n  margin-bottom: 0;\\n  font-size: 18px;\\n}\\nion-content ion-card ion-card-content {\\n  background-color: white;\\n  padding-top: 10px !important;\\n  padding-left: 10px !important;\\n  padding-right: 10px !important;\\n  padding-bottom: 10px !important;\\n  color: black;\\n}\\nion-content ion-card ion-card-content .item {\\n  background-color: transparent;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL21vcmVsL0J1cmVhdS9zb2x1dGlvbiBhbmRyb2lkIGRvbGxhcnMgYmlqb3V4L0FwcCBTb3VyY2UgQ29kZS9zcmMvYXBwL215LW9yZGVyLWRldGFpbC9teS1vcmRlci1kZXRhaWwucGFnZS5zY3NzIiwic3JjL2FwcC9teS1vcmRlci1kZXRhaWwvbXktb3JkZXItZGV0YWlsLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDSTtFQUNJLHNDQUFBO0VBQ0EsYUFBQTtBQ0FSO0FEQ1E7RUFDSSxTQUFBO0FDQ1o7QURLUTtFQUNJLGVBQUE7RUFDQSxnQkFBQTtFQUNBLGFBQUE7RUFDQSxZQUFBO0VBQ0EsMkJBQUE7QUNGWjtBREdZO0VBQ0ksYUFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtBQ0RoQjtBRElRO0VBQ0ksdUJBQUE7RUFDQSw0QkFBQTtFQUNBLDZCQUFBO0VBQ0EsOEJBQUE7RUFDQSwrQkFBQTtFQUNBLFlBQUE7QUNGWjtBRElZO0VBQ0ksNkJBQUE7QUNGaEIiLCJmaWxlIjoic3JjL2FwcC9teS1vcmRlci1kZXRhaWwvbXktb3JkZXItZGV0YWlsLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1oZWFkZXJ7XG4gICAgaW9uLXRvb2xiYXJ7XG4gICAgICAgIC0tYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICAgICAgICAtLWNvbG9yOndoaXRlO1xuICAgICAgICBpb24taWNvbntcbiAgICAgICAgICAgIHpvb206IDEuNDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmlvbi1jb250ZW50e1xuICAgIGlvbi1jYXJke1xuICAgICAgICBpb24tY2FyZC1oZWFkZXJ7XG4gICAgICAgICAgICBmb250LXNpemU6IDIwcHg7XG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xuICAgICAgICAgICAgbWFyZ2luLXRvcDogMDtcbiAgICAgICAgICAgIGNvbG9yOiBibGFjaztcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Z3JheTtcbiAgICAgICAgICAgIGg0e1xuICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDA7XG4gICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMDtcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDE4cHg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW9uLWNhcmQtY29udGVudHtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgcGFkZGluZy10b3A6IDEwcHggIWltcG9ydGFudDtcbiAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMTBweCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMTBweCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDEwcHggIWltcG9ydGFudDtcbiAgICAgICAgICAgIGNvbG9yOiBibGFjaztcblxuICAgICAgICAgICAgLml0ZW17XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG59IiwiaW9uLWhlYWRlciBpb24tdG9vbGJhciB7XG4gIC0tYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICAtLWNvbG9yOndoaXRlO1xufVxuaW9uLWhlYWRlciBpb24tdG9vbGJhciBpb24taWNvbiB7XG4gIHpvb206IDEuNDtcbn1cblxuaW9uLWNvbnRlbnQgaW9uLWNhcmQgaW9uLWNhcmQtaGVhZGVyIHtcbiAgZm9udC1zaXplOiAyMHB4O1xuICBtYXJnaW4tYm90dG9tOiAwO1xuICBtYXJnaW4tdG9wOiAwO1xuICBjb2xvcjogYmxhY2s7XG4gIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Z3JheTtcbn1cbmlvbi1jb250ZW50IGlvbi1jYXJkIGlvbi1jYXJkLWhlYWRlciBoNCB7XG4gIG1hcmdpbi10b3A6IDA7XG4gIG1hcmdpbi1ib3R0b206IDA7XG4gIGZvbnQtc2l6ZTogMThweDtcbn1cbmlvbi1jb250ZW50IGlvbi1jYXJkIGlvbi1jYXJkLWNvbnRlbnQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgcGFkZGluZy10b3A6IDEwcHggIWltcG9ydGFudDtcbiAgcGFkZGluZy1sZWZ0OiAxMHB4ICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctcmlnaHQ6IDEwcHggIWltcG9ydGFudDtcbiAgcGFkZGluZy1ib3R0b206IDEwcHggIWltcG9ydGFudDtcbiAgY29sb3I6IGJsYWNrO1xufVxuaW9uLWNvbnRlbnQgaW9uLWNhcmQgaW9uLWNhcmQtY29udGVudCAuaXRlbSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { NavController, NavParams } from '@ionic/angular';\nimport { SpinnerDialog } from '@ionic-native/spinner-dialog/ngx';\nimport { ThemeableBrowser, ThemeableBrowserOptions, ThemeableBrowserObject } from '@ionic-native/themeable-browser/ngx';\nimport { ProductDetailPage } from '../product-detail/product-detail.page';\nimport { ConfigService } from 'src/providers/config/config.service';\nimport { HttpClient } from '@angular/common/http';\nimport { SharedDataService } from 'src/providers/shared-data/shared-data.service';\n\nimport { LoadingService } from 'src/providers/loading/loading.service';\n\n@Component({\n  selector: 'app-my-order-detail',\n  templateUrl: './my-order-detail.page.html',\n  styleUrls: ['./my-order-detail.page.scss'],\n})\nexport class MyOrderDetailPage implements OnInit {\n\n  order: { [k: string]: any } = {};\n  constructor(\n    public navCtrl: NavController,\n    public config: ConfigService,\n    public http: HttpClient,\n    public shared: SharedDataService,\n\n    public loading: LoadingService,\n    private spinnerDialog: SpinnerDialog, //updates\n    private themeableBrowser: ThemeableBrowser, ) {\n\n    this.order = this.shared.myOrderDetialPageData;\n\n\n    //console.log(this.order);\n  }\n  getSingleProductDetail(id) {\n    this.loading.show();\n    this.config.getWoo(\"products/\" + id + \"?\" + this.config.productsArguments).then((data: any) => {\n      this.loading.hide();\n      let p = data\n      this.shared.singleProductPageData.push(p);\n      this.navCtrl.navigateForward(\"product-detail/\" + p.id);\n    }, err => {\n      this.loading.hide();\n      this.shared.showAlert(\"Produit non disponible!\");\n      console.log(err);\n    });\n\n    this.shared.addToRecent(id);\n  }\n  cancelOrder() {\n\n\n    let orderCreateDate = new Date(this.order.date_created);\n    let orderSeconds = orderCreateDate.getTime() / 1000;\n    let timeknow = new Date();\n    let currentTime = timeknow.getTime() / 1000;\n\n    let timeToCancelOrder = this.config.cancelOrderTime * 3600;\n    let timeDiff = (currentTime - orderSeconds)\n    //console.log(timeDiff + \" \" + timeToCancelOrder);\n    console.log(timeToCancelOrder - timeDiff);\n    let result = timeToCancelOrder - timeDiff;\n\n    if (result < 0) this.shared.toast(\"Le délai d'annulation de la commande expire!\");\n    else {\n\n      this.loading.show();\n      let dat = {\n        status: 'cancelled'\n      };\n      this.config.putAsync(\"orders/\" + this.order.id, dat).then((data: any) => {\n        this.loading.hide();\n        this.navCtrl.pop();\n        this.shared.toast(\"Commande annulée\");\n      }, err => {\n        this.loading.hide();\n        this.shared.toast(\"erreur sur le serveur\");\n        console.log(err);\n      });\n\n    }\n  }\n  ionViewDidLoad() {\n    this.order = this.shared.myOrderDetialPageData;\n  }\n\n  openTrackingPage() {\n    let options: ThemeableBrowserOptions = {\n      statusbar: {\n        color: this.shared.headerHexColor\n      },\n      toolbar: {\n        height: 44,\n        color: this.shared.headerHexColor\n      },\n      closeButton: {\n        wwwImage: 'assets/close.png',\n        align: 'right',\n        event: 'closePressed'\n      },\n      backButton: {\n        wwwImage: 'assets/back.png',\n        align: 'left'\n        //event: 'closePressed'\n      },\n      backButtonCanClose: true,\n    };\n    let id = this.getTrackingId();\n    const b: ThemeableBrowserObject = this.themeableBrowser.create(this.config.trackingUrl + \"/\" + id, '_blank', options);\n    let orderPlaced = false;\n    b.on('loadstart').subscribe(res => {\n      this.spinnerDialog.show(\"\", \"\", true, { overlayOpacity: 1.00 });\n      setTimeout(() => {\n        this.spinnerDialog.hide();\n      }, 3000);\n    });\n\n    b.on('closePressed').subscribe(res => {\n      b.close();\n    });\n    b.on('loadstop').subscribe(res => {\n      this.spinnerDialog.hide();\n      console.log('loadstop');\n    });\n\n  }\n\n  getTrackingId() {\n    let id = \"\";\n    for (let v of this.order.meta_data) {\n      if (v.key == \"_aftership_tracking_number\") {\n        id = v.value;\n      }\n    }\n    return id;\n  }\n  addCurrecny(v) {\n    return this.order.currency + \" \" + v;\n  }\n\n  ngOnInit() {\n  }\n\n}\n"],"sourceRoot":"webpack:///"}