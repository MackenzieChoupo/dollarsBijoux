{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{hkgh:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__);var core=__webpack_require__(\"8Y7J\"),fesm5=__webpack_require__(\"ZZ/e\"),config_service=__webpack_require__(\"sf9b\"),loading_service=__webpack_require__(\"KTio\"),shared_data_service=__webpack_require__(\"UmVP\");class AddReviewPage{constructor(navCtrl,http,config,activatedRoute,loading,shared,applicationRef){this.navCtrl=navCtrl,this.http=http,this.config=config,this.activatedRoute=activatedRoute,this.loading=loading,this.shared=shared,this.applicationRef=applicationRef,this.rating=null,this.errorMessage=\"\",this.formData={name:\"\",email:\"\",description:\"\"},this.ratingStars=[{value:\"1\",fill:\"star-outline\"},{value:\"2\",fill:\"star-outline\"},{value:\"3\",fill:\"star-outline\"},{value:\"4\",fill:\"star-outline\"},{value:\"5\",fill:\"star-outline\"}],this.id=this.activatedRoute.snapshot.paramMap.get(\"id\"),this.getNonce(),this.formData.name=this.shared.customerData.first_name+\" \"+this.shared.customerData.last_name,this.formData.email=this.shared.customerData.email}getNonce(){this.loading.show(),this.http.get(this.config.url+\"/api/get_nonce/?controller=AppSettings&method=create_product_review\").subscribe(data=>{this.nonce=data.nonce,console.log(data),this.loading.hide()})}addComment(){this.loading.show(),this.http.get(this.config.url+\"/api/appsettings/create_product_review/?insecure=cool&nonce=\"+this.nonce+\"&author_name=\"+this.formData.name+\"&author_email=\"+this.formData.email+\"&product_id=\"+this.id+\"&author_content=\"+this.formData.description+\"&rate_star=\"+this.rating+\"&user_id=\"+this.shared.customerData.id).subscribe(data=>{this.loading.hide(),\"ok\"==data.status&&this.navCtrl.pop(),console.log(data)},err=>{this.errorMessage=err.message})}selectRating(value){this.rating=value;for(let v of this.ratingStars)v.fill=v.value<=value?\"star\":\"star-outline\";this.applicationRef.tick()}disbaleButton(){return null==this.rating||\"\"==this.formData.description||\"\"==this.formData.name||\"\"==this.formData.email}ngOnInit(){}}class AddReviewPageModule{}var router_ngfactory=__webpack_require__(\"pMnS\"),core_ngfactory=__webpack_require__(\"oBZk\"),translate_app_pipe=__webpack_require__(\"taci\"),common=__webpack_require__(\"SVse\"),fesm2015_forms=__webpack_require__(\"s7LF\"),http=__webpack_require__(\"IheW\"),router=__webpack_require__(\"iInd\"),RenderType_AddReviewPage=core.zb({encapsulation:0,styles:[[\"ion-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{padding-left:10px}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{zoom:1.9;color:#d9d027}ion-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background:#fafafa}ion-content[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:100%;margin:0;border:none}ion-footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0}\"]],data:{}});function View_AddReviewPage_1(_l){return core.Wb(0,[(_l()(),core.Bb(0,0,null,null,3,\"ion-col\",[[\"class\",\"ion-align-self-end\"],[\"size\",\"1\"]],null,null,null,core_ngfactory.mb,core_ngfactory.m)),core.Ab(1,49152,null,0,fesm5.v,[core.j,core.p,core.F],{size:[0,\"size\"]},null),(_l()(),core.Bb(2,0,null,0,1,\"ion-icon\",[],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.selectRating(_v.context.$implicit.value)&&ad),ad}),core_ngfactory.tb,core_ngfactory.t)),core.Ab(3,49152,null,0,fesm5.E,[core.j,core.p,core.F],{name:[0,\"name\"]},null)],(function(_ck,_v){_ck(_v,1,0,\"1\"),_ck(_v,3,0,_v.context.$implicit.fill)}),null)}function View_AddReviewPage_0(_l){return core.Wb(0,[core.Pb(0,translate_app_pipe.a,[shared_data_service.a]),(_l()(),core.Bb(1,0,null,null,12,\"ion-header\",[],null,null,null,core_ngfactory.sb,core_ngfactory.s)),core.Ab(2,49152,null,0,fesm5.D,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(3,0,null,0,10,\"ion-toolbar\",[],null,null,null,core_ngfactory.Zb,core_ngfactory.Z)),core.Ab(4,49152,null,0,fesm5.Eb,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(5,0,null,0,5,\"ion-buttons\",[[\"slot\",\"start\"]],null,null,null,core_ngfactory.fb,core_ngfactory.f)),core.Ab(6,49152,null,0,fesm5.n,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(7,0,null,0,3,\"ion-button\",[[\"fill\",\"clear\"],[\"routerDirection\",\"backward\"]],null,null,null,core_ngfactory.eb,core_ngfactory.e)),core.Ab(8,49152,null,0,fesm5.m,[core.j,core.p,core.F],{fill:[0,\"fill\"],routerDirection:[1,\"routerDirection\"]},null),(_l()(),core.Bb(9,0,null,0,1,\"ion-icon\",[[\"name\",\"arrow-back\"],[\"slot\",\"icon-only\"]],null,null,null,core_ngfactory.tb,core_ngfactory.t)),core.Ab(10,49152,null,0,fesm5.E,[core.j,core.p,core.F],{name:[0,\"name\"]},null),(_l()(),core.Bb(11,0,null,0,2,\"ion-title\",[],null,null,null,core_ngfactory.Xb,core_ngfactory.X)),core.Ab(12,49152,null,0,fesm5.Cb,[core.j,core.p,core.F],null,null),(_l()(),core.Ub(-1,0,[\"laisser un commentaire\"])),(_l()(),core.Bb(14,0,null,null,54,\"ion-content\",[[\"class\",\"ion-no-padding\"]],null,null,null,core_ngfactory.nb,core_ngfactory.n)),core.Ab(15,49152,null,0,fesm5.w,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(16,0,null,0,1,\"h4\",[],null,null,null,null,null)),(_l()(),core.Ub(-1,null,[\"Commenter ce produit\"])),(_l()(),core.Bb(18,0,null,0,9,\"ion-grid\",[[\"class\",\"ion-no-padding\"]],null,null,null,core_ngfactory.rb,core_ngfactory.r)),core.Ab(19,49152,null,0,fesm5.C,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(20,0,null,0,7,\"ion-row\",[[\"class\",\"ion-no-padding\"]],null,null,null,core_ngfactory.Jb,core_ngfactory.J)),core.Ab(21,49152,null,0,fesm5.lb,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(22,0,null,0,3,\"ion-col\",[[\"class\",\"ion-no-padding\"],[\"size\",\"3.6\"]],null,null,null,core_ngfactory.mb,core_ngfactory.m)),core.Ab(23,49152,null,0,fesm5.v,[core.j,core.p,core.F],{size:[0,\"size\"]},null),(_l()(),core.Bb(24,0,null,0,1,\"h5\",[],null,null,null,null,null)),(_l()(),core.Ub(-1,null,[\"Votre note\"])),(_l()(),core.qb(16777216,null,0,1,null,View_AddReviewPage_1)),core.Ab(27,278528,null,0,common.j,[core.W,core.S,core.x],{ngForOf:[0,\"ngForOf\"]},null),(_l()(),core.Bb(28,0,null,0,40,\"form\",[[\"novalidate\",\"\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"submit\"],[null,\"reset\"]],(function(_v,en,$event){var ad=!0;return\"submit\"===en&&(ad=!1!==core.Nb(_v,30).onSubmit($event)&&ad),\"reset\"===en&&(ad=!1!==core.Nb(_v,30).onReset()&&ad),ad}),null,null)),core.Ab(29,16384,null,0,fesm2015_forms.n,[],null,null),core.Ab(30,4210688,null,0,fesm2015_forms.i,[[8,null],[8,null]],null,null),core.Rb(2048,null,fesm2015_forms.a,null,[fesm2015_forms.i]),core.Ab(32,16384,null,0,fesm2015_forms.h,[[4,fesm2015_forms.a]],null,null),(_l()(),core.Bb(33,0,null,null,11,\"ion-item\",[],null,null,null,core_ngfactory.Ab,core_ngfactory.y)),core.Ab(34,49152,null,0,fesm5.J,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(35,0,null,0,9,\"ion-input\",[[\"name\",\"name\"],[\"required\",\"\"],[\"type\",\"text\"]],[[1,\"required\",0],[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"ionBlur\"],[null,\"ionChange\"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return\"ionBlur\"===en&&(ad=!1!==core.Nb(_v,38)._handleBlurEvent($event.target)&&ad),\"ionChange\"===en&&(ad=!1!==core.Nb(_v,38)._handleInputEvent($event.target)&&ad),\"ngModelChange\"===en&&(ad=!1!==(_co.formData.name=$event)&&ad),ad}),core_ngfactory.xb,core_ngfactory.x)),core.Ab(36,16384,null,0,fesm2015_forms.k,[],{required:[0,\"required\"]},null),core.Rb(1024,null,fesm2015_forms.d,(function(p0_0){return[p0_0]}),[fesm2015_forms.k]),core.Ab(38,16384,null,0,fesm5.Tb,[core.p],null,null),core.Rb(1024,null,fesm2015_forms.e,(function(p0_0){return[p0_0]}),[fesm5.Tb]),core.Ab(40,671744,null,0,fesm2015_forms.j,[[2,fesm2015_forms.a],[6,fesm2015_forms.d],[8,null],[6,fesm2015_forms.e]],{name:[0,\"name\"],model:[1,\"model\"]},{update:\"ngModelChange\"}),core.Rb(2048,null,fesm2015_forms.f,null,[fesm2015_forms.j]),core.Ab(42,16384,null,0,fesm2015_forms.g,[[4,fesm2015_forms.f]],null,null),core.Ab(43,49152,null,0,fesm5.I,[core.j,core.p,core.F],{name:[0,\"name\"],placeholder:[1,\"placeholder\"],required:[2,\"required\"],type:[3,\"type\"]},null),core.Qb(44,1),(_l()(),core.Bb(45,0,null,null,11,\"ion-item\",[],null,null,null,core_ngfactory.Ab,core_ngfactory.y)),core.Ab(46,49152,null,0,fesm5.J,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(47,0,null,0,9,\"ion-input\",[[\"name\",\"email\"],[\"required\",\"\"],[\"type\",\"text\"]],[[1,\"required\",0],[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"ionBlur\"],[null,\"ionChange\"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return\"ionBlur\"===en&&(ad=!1!==core.Nb(_v,50)._handleBlurEvent($event.target)&&ad),\"ionChange\"===en&&(ad=!1!==core.Nb(_v,50)._handleInputEvent($event.target)&&ad),\"ngModelChange\"===en&&(ad=!1!==(_co.formData.email=$event)&&ad),ad}),core_ngfactory.xb,core_ngfactory.x)),core.Ab(48,16384,null,0,fesm2015_forms.k,[],{required:[0,\"required\"]},null),core.Rb(1024,null,fesm2015_forms.d,(function(p0_0){return[p0_0]}),[fesm2015_forms.k]),core.Ab(50,16384,null,0,fesm5.Tb,[core.p],null,null),core.Rb(1024,null,fesm2015_forms.e,(function(p0_0){return[p0_0]}),[fesm5.Tb]),core.Ab(52,671744,null,0,fesm2015_forms.j,[[2,fesm2015_forms.a],[6,fesm2015_forms.d],[8,null],[6,fesm2015_forms.e]],{name:[0,\"name\"],model:[1,\"model\"]},{update:\"ngModelChange\"}),core.Rb(2048,null,fesm2015_forms.f,null,[fesm2015_forms.j]),core.Ab(54,16384,null,0,fesm2015_forms.g,[[4,fesm2015_forms.f]],null,null),core.Ab(55,49152,null,0,fesm5.I,[core.j,core.p,core.F],{name:[0,\"name\"],placeholder:[1,\"placeholder\"],required:[2,\"required\"],type:[3,\"type\"]},null),core.Qb(56,1),(_l()(),core.Bb(57,0,null,null,11,\"ion-item\",[[\"lines\",\"none\"]],null,null,null,core_ngfactory.Ab,core_ngfactory.y)),core.Ab(58,49152,null,0,fesm5.J,[core.j,core.p,core.F],{lines:[0,\"lines\"]},null),(_l()(),core.Bb(59,0,null,0,9,\"ion-textarea\",[[\"name\",\"desc\"],[\"required\",\"\"],[\"rows\",\"17\"]],[[1,\"required\",0],[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"ionBlur\"],[null,\"ionChange\"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return\"ionBlur\"===en&&(ad=!1!==core.Nb(_v,62)._handleBlurEvent($event.target)&&ad),\"ionChange\"===en&&(ad=!1!==core.Nb(_v,62)._handleInputEvent($event.target)&&ad),\"ngModelChange\"===en&&(ad=!1!==(_co.formData.description=$event)&&ad),ad}),core_ngfactory.Vb,core_ngfactory.V)),core.Ab(60,16384,null,0,fesm2015_forms.k,[],{required:[0,\"required\"]},null),core.Rb(1024,null,fesm2015_forms.d,(function(p0_0){return[p0_0]}),[fesm2015_forms.k]),core.Ab(62,16384,null,0,fesm5.Tb,[core.p],null,null),core.Rb(1024,null,fesm2015_forms.e,(function(p0_0){return[p0_0]}),[fesm5.Tb]),core.Ab(64,671744,null,0,fesm2015_forms.j,[[2,fesm2015_forms.a],[6,fesm2015_forms.d],[8,null],[6,fesm2015_forms.e]],{name:[0,\"name\"],model:[1,\"model\"]},{update:\"ngModelChange\"}),core.Rb(2048,null,fesm2015_forms.f,null,[fesm2015_forms.j]),core.Ab(66,16384,null,0,fesm2015_forms.g,[[4,fesm2015_forms.f]],null,null),core.Ab(67,49152,null,0,fesm5.Ab,[core.j,core.p,core.F],{name:[0,\"name\"],placeholder:[1,\"placeholder\"],required:[2,\"required\"],rows:[3,\"rows\"]},null),core.Qb(68,1),(_l()(),core.Bb(69,0,null,null,4,\"ion-footer\",[],null,null,null,core_ngfactory.qb,core_ngfactory.q)),core.Ab(70,49152,null,0,fesm5.B,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(71,0,null,0,2,\"ion-button\",[[\"color\",\"secondary\"],[\"expand\",\"full\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.addComment()&&ad),ad}),core_ngfactory.eb,core_ngfactory.e)),core.Ab(72,49152,null,0,fesm5.m,[core.j,core.p,core.F],{color:[0,\"color\"],disabled:[1,\"disabled\"],expand:[2,\"expand\"]},null),(_l()(),core.Ub(-1,0,[\" Poster un commentaire \"]))],(function(_ck,_v){var _co=_v.component;_ck(_v,8,0,\"clear\",\"backward\"),_ck(_v,10,0,\"arrow-back\"),_ck(_v,23,0,\"3.6\"),_ck(_v,27,0,_co.ratingStars),_ck(_v,36,0,\"\"),_ck(_v,40,0,\"name\",_co.formData.name);var currVal_24=core.Fb(1,\"\",core.Vb(_v,43,1,_ck(_v,44,0,core.Nb(_v,0),\"Nom\")),\"\");_ck(_v,43,0,\"name\",currVal_24,\"\",\"text\"),_ck(_v,48,0,\"\"),_ck(_v,52,0,\"email\",_co.formData.email);var currVal_39=core.Fb(1,\"\",core.Vb(_v,55,1,_ck(_v,56,0,core.Nb(_v,0),\"Email\")),\"\");_ck(_v,55,0,\"email\",currVal_39,\"\",\"text\"),_ck(_v,58,0,\"none\"),_ck(_v,60,0,\"\"),_ck(_v,64,0,\"desc\",_co.formData.description);var currVal_55=core.Fb(1,\"\",core.Vb(_v,67,1,_ck(_v,68,0,core.Nb(_v,0),\"Entrer une description\")),\"\");_ck(_v,67,0,\"desc\",currVal_55,\"\",\"17\"),_ck(_v,72,0,\"secondary\",_co.disbaleButton(),\"full\")}),(function(_ck,_v){_ck(_v,28,0,core.Nb(_v,32).ngClassUntouched,core.Nb(_v,32).ngClassTouched,core.Nb(_v,32).ngClassPristine,core.Nb(_v,32).ngClassDirty,core.Nb(_v,32).ngClassValid,core.Nb(_v,32).ngClassInvalid,core.Nb(_v,32).ngClassPending),_ck(_v,35,0,core.Nb(_v,36).required?\"\":null,core.Nb(_v,42).ngClassUntouched,core.Nb(_v,42).ngClassTouched,core.Nb(_v,42).ngClassPristine,core.Nb(_v,42).ngClassDirty,core.Nb(_v,42).ngClassValid,core.Nb(_v,42).ngClassInvalid,core.Nb(_v,42).ngClassPending),_ck(_v,47,0,core.Nb(_v,48).required?\"\":null,core.Nb(_v,54).ngClassUntouched,core.Nb(_v,54).ngClassTouched,core.Nb(_v,54).ngClassPristine,core.Nb(_v,54).ngClassDirty,core.Nb(_v,54).ngClassValid,core.Nb(_v,54).ngClassInvalid,core.Nb(_v,54).ngClassPending),_ck(_v,59,0,core.Nb(_v,60).required?\"\":null,core.Nb(_v,66).ngClassUntouched,core.Nb(_v,66).ngClassTouched,core.Nb(_v,66).ngClassPristine,core.Nb(_v,66).ngClassDirty,core.Nb(_v,66).ngClassValid,core.Nb(_v,66).ngClassInvalid,core.Nb(_v,66).ngClassPending)}))}function View_AddReviewPage_Host_0(_l){return core.Wb(0,[(_l()(),core.Bb(0,0,null,null,1,\"app-add-review\",[],null,null,null,View_AddReviewPage_0,RenderType_AddReviewPage)),core.Ab(1,114688,null,0,AddReviewPage,[fesm5.Lb,http.c,config_service.a,router.a,loading_service.a,shared_data_service.a,core.g],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var AddReviewPageNgFactory=core.xb(\"app-add-review\",AddReviewPage,View_AddReviewPage_Host_0,{},{},[]),pipes_module=__webpack_require__(\"wWlB\");__webpack_require__.d(__webpack_exports__,\"AddReviewPageModuleNgFactory\",(function(){return AddReviewPageModuleNgFactory}));var AddReviewPageModuleNgFactory=core.yb(AddReviewPageModule,[],(function(_l){return core.Kb([core.Lb(512,core.m,core.jb,[[8,[router_ngfactory.a,AddReviewPageNgFactory]],[3,core.m],core.D]),core.Lb(4608,common.m,common.l,[core.z,[2,common.v]]),core.Lb(4608,fesm2015_forms.m,fesm2015_forms.m,[]),core.Lb(4608,fesm5.c,fesm5.c,[core.F,core.g]),core.Lb(4608,fesm5.Kb,fesm5.Kb,[fesm5.c,core.m,core.w]),core.Lb(4608,fesm5.Pb,fesm5.Pb,[fesm5.c,core.m,core.w]),core.Lb(1073742336,common.b,common.b,[]),core.Lb(1073742336,fesm2015_forms.l,fesm2015_forms.l,[]),core.Lb(1073742336,fesm2015_forms.c,fesm2015_forms.c,[]),core.Lb(1073742336,fesm5.Gb,fesm5.Gb,[]),core.Lb(1073742336,router.o,router.o,[[2,router.t],[2,router.m]]),core.Lb(1073742336,pipes_module.a,pipes_module.a,[]),core.Lb(1073742336,AddReviewPageModule,AddReviewPageModule,[]),core.Lb(1024,router.k,(function(){return[[{path:\"\",component:AddReviewPage}]]}),[])])}))}}]);","extractedComments":[]}