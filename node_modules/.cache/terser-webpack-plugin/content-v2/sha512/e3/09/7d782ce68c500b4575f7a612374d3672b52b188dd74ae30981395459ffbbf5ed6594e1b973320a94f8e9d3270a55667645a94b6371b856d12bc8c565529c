{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{Vhdi:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__);var core=__webpack_require__(\"8Y7J\"),tslib_es6=__webpack_require__(\"mrSG\"),fesm5=__webpack_require__(\"ZZ/e\"),config_service=__webpack_require__(\"sf9b\"),loading_service=__webpack_require__(\"KTio\"),shared_data_service=__webpack_require__(\"UmVP\"),login_page=__webpack_require__(\"pHsZ\");class reviews_page_ReviewsPage{constructor(navCtrl,activatedRoute,applicationRef,config,modalCtrl,loading,shared){this.navCtrl=navCtrl,this.activatedRoute=activatedRoute,this.applicationRef=applicationRef,this.config=config,this.modalCtrl=modalCtrl,this.loading=loading,this.shared=shared,this.reviews=[],this.r1=null,this.r2=null,this.r3=null,this.r4=null,this.r5=null,this.id=this.activatedRoute.snapshot.paramMap.get(\"id\"),this.getProductReviews()}getProductReviews(){this.loading.show(),this.config.getWoo(\"products/reviews/?\"+this.config.productsArguments+\"&product=\"+[this.id]).then(data=>{this.reviews=data,this.applicationRef.tick();let total=0;for(let value of this.reviews)total+=value.rating;this.average=total/this.reviews.length,0==this.reviews.length&&(this.average=0),this.calculateAll(),this.applicationRef.tick(),this.loading.hide()})}openReviewsPage(){return tslib_es6.b(this,void 0,void 0,(function*(){if(null==this.shared.customerData.id||null==this.shared.customerData.id){let modal=yield this.modalCtrl.create({component:login_page.a,componentProps:{hideGuestLogin:!1}});return yield modal.present()}this.navCtrl.navigateForward(\"/add-review/\"+this.id)}))}totalRating(){let total=0;for(let value of this.reviews)total+=value.rating;let result=total;return 0==total&&(result=0),result}calculateAll(){let r1=0,r2=0,r3=0,r4=0,r5=0,total=this.reviews.length;for(let value of this.reviews)1==value.rating&&r1++,2==value.rating&&r2++,3==value.rating&&r3++,4==value.rating&&r4++,5==value.rating&&r5++;this.r1=100/total*r1,0==r1&&(this.r1=0),this.r2=100/total*r2,0==r2&&(this.r2=0),this.r3=100/total*r3,0==r3&&(this.r3=0),this.r4=100/total*r4,0==r4&&(this.r4=0),this.r5=100/total*r5,0==r5&&(this.r5=0)}ngOnInit(){}}class ReviewsPageModule{}var router_ngfactory=__webpack_require__(\"pMnS\"),core_ngfactory=__webpack_require__(\"oBZk\"),translate_app_pipe=__webpack_require__(\"taci\"),common=__webpack_require__(\"SVse\"),router=__webpack_require__(\"iInd\"),RenderType_ReviewsPage=core.zb({encapsulation:2,styles:[['@charset \"UTF-8\";.review-page{background-color:#fff}.review-page .rating-gird h4{margin-top:0;margin-bottom:0}.review-page .rating-gird h1{font-size:30px;margin-top:0;text-align:center}.review-page .rating-gird h3{color:var(--ion-color-secondary);margin-bottom:0;text-align:center}.review-page .rating-gird ul{padding-left:15px;margin-bottom:0;border-left:1px solid #ccc}.review-page .rating-gird ul li{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;font-size:16px;list-style:none;position:relative}.review-page .rating-gird ul li .icon{margin-left:5px}.review-page .rating-gird ul li .block{height:11px;display:inline-block;margin-left:7px;position:relative;z-index:2}.review-page .rating-gird ul li::after{content:\"\";background-color:#f4f4f4;height:11px;width:calc(100% - 36px);position:absolute;left:36px;z-index:1;top:5px}.review-page .rating-gird .button{min-height:45px}.review-page .rating-users .item{background-color:transparent;-webkit-box-align:start;align-items:flex-start}.review-page .rating-users .item ion-avatar{margin-top:10px}.review-page .rating-users .item h2{font-weight:700}.review-page .rating-users .item .product-rating{margin-top:0;margin-bottom:0;padding-left:0}.review-page .rating-users .item .product-rating li{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.review-page .rating-users .item .product-rating li h6{margin-top:5px;margin-left:10px}.review-page .rating-users .item p p{margin-top:2px;white-space:normal}.review-page .product-rating{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start}.review-page .product-rating .stars-outer{display:inline-block;position:relative;font-size:25px}.review-page .product-rating .stars-outer::before{content:\"☆☆☆☆☆\";color:#ccc}.review-page .product-rating .stars-outer .stars-inner{font-size:25px;position:absolute;top:0;left:0;white-space:nowrap;overflow:hidden}.review-page .product-rating .stars-outer .stars-inner::before{content:\"★★★★★\";color:#f8ce0b}.review-page .product-rating h6{color:#6495ed;margin-left:15px}.review-page .animate{-webkit-animation:.75s fadeInRight;animation:.75s fadeInRight}']],data:{}});function View_ReviewsPage_1(_l){return core.Wb(0,[(_l()(),core.Bb(0,0,null,null,56,\"ion-grid\",[[\"class\",\"rating-gird\"]],null,null,null,core_ngfactory.rb,core_ngfactory.r)),core.Ab(1,49152,null,0,fesm5.C,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(2,0,null,0,6,\"ion-row\",[],null,null,null,core_ngfactory.Jb,core_ngfactory.J)),core.Ab(3,49152,null,0,fesm5.lb,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(4,0,null,0,4,\"ion-col\",[],null,null,null,core_ngfactory.mb,core_ngfactory.m)),core.Ab(5,49152,null,0,fesm5.v,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(6,0,null,0,2,\"h4\",[],null,null,null,null,null)),(_l()(),core.Ub(7,null,[\"\",\"\"])),core.Qb(8,1),(_l()(),core.Bb(9,0,null,0,39,\"ion-row\",[[\"class\",\"ion-align-items-center\"]],null,null,null,core_ngfactory.Jb,core_ngfactory.J)),core.Ab(10,49152,null,0,fesm5.lb,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(11,0,null,0,9,\"ion-col\",[[\"size\",\"5\"]],null,null,null,core_ngfactory.mb,core_ngfactory.m)),core.Ab(12,49152,null,0,fesm5.v,[core.j,core.p,core.F],{size:[0,\"size\"]},null),(_l()(),core.Bb(13,0,null,0,4,\"h1\",[],null,null,null,null,null)),(_l()(),core.Ub(14,null,[\"\",\" \"])),core.Qb(15,2),(_l()(),core.Bb(16,0,null,null,1,\"ion-icon\",[[\"name\",\"star\"]],null,null,null,core_ngfactory.tb,core_ngfactory.t)),core.Ab(17,49152,null,0,fesm5.E,[core.j,core.p,core.F],{name:[0,\"name\"]},null),(_l()(),core.Bb(18,0,null,0,2,\"h3\",[],null,null,null,null,null)),(_l()(),core.Ub(19,null,[\"\",\" \",\"\"])),core.Qb(20,1),(_l()(),core.Bb(21,0,null,0,27,\"ion-col\",[[\"size\",\"7\"]],null,null,null,core_ngfactory.mb,core_ngfactory.m)),core.Ab(22,49152,null,0,fesm5.v,[core.j,core.p,core.F],{size:[0,\"size\"]},null),(_l()(),core.Bb(23,0,null,0,25,\"ul\",[],null,null,null,null,null)),(_l()(),core.Bb(24,0,null,null,4,\"li\",[],null,null,null,null,null)),(_l()(),core.Ub(-1,null,[\"5 \"])),(_l()(),core.Bb(26,0,null,null,1,\"ion-icon\",[[\"name\",\"star\"]],null,null,null,core_ngfactory.tb,core_ngfactory.t)),core.Ab(27,49152,null,0,fesm5.E,[core.j,core.p,core.F],{name:[0,\"name\"]},null),(_l()(),core.Bb(28,0,null,null,0,\"span\",[[\"class\",\"block animate\"],[\"style\",\"background-color:green;\"]],[[4,\"width\",null]],null,null,null,null)),(_l()(),core.Bb(29,0,null,null,4,\"li\",[],null,null,null,null,null)),(_l()(),core.Ub(-1,null,[\"4 \"])),(_l()(),core.Bb(31,0,null,null,1,\"ion-icon\",[[\"name\",\"star\"]],null,null,null,core_ngfactory.tb,core_ngfactory.t)),core.Ab(32,49152,null,0,fesm5.E,[core.j,core.p,core.F],{name:[0,\"name\"]},null),(_l()(),core.Bb(33,0,null,null,0,\"span\",[[\"class\",\"block animate\"],[\"style\",\"background-color:lightgreen;\"]],[[4,\"width\",null]],null,null,null,null)),(_l()(),core.Bb(34,0,null,null,4,\"li\",[],null,null,null,null,null)),(_l()(),core.Ub(-1,null,[\"3 \"])),(_l()(),core.Bb(36,0,null,null,1,\"ion-icon\",[[\"name\",\"star\"]],null,null,null,core_ngfactory.tb,core_ngfactory.t)),core.Ab(37,49152,null,0,fesm5.E,[core.j,core.p,core.F],{name:[0,\"name\"]},null),(_l()(),core.Bb(38,0,null,null,0,\"span\",[[\"class\",\"block animate\"],[\"style\",\"background-color:yellow;\"]],[[4,\"width\",null]],null,null,null,null)),(_l()(),core.Bb(39,0,null,null,4,\"li\",[],null,null,null,null,null)),(_l()(),core.Ub(-1,null,[\"2 \"])),(_l()(),core.Bb(41,0,null,null,1,\"ion-icon\",[[\"name\",\"star\"]],null,null,null,core_ngfactory.tb,core_ngfactory.t)),core.Ab(42,49152,null,0,fesm5.E,[core.j,core.p,core.F],{name:[0,\"name\"]},null),(_l()(),core.Bb(43,0,null,null,0,\"span\",[[\"class\",\"block animate\"],[\"style\",\"background-color:orange;\"]],[[4,\"width\",null]],null,null,null,null)),(_l()(),core.Bb(44,0,null,null,4,\"li\",[],null,null,null,null,null)),(_l()(),core.Ub(-1,null,[\"1 \"])),(_l()(),core.Bb(46,0,null,null,1,\"ion-icon\",[[\"name\",\"star\"]],null,null,null,core_ngfactory.tb,core_ngfactory.t)),core.Ab(47,49152,null,0,fesm5.E,[core.j,core.p,core.F],{name:[0,\"name\"]},null),(_l()(),core.Bb(48,0,null,null,0,\"span\",[[\"class\",\"block animate\"],[\"style\",\"background-color:dar=darkorange;\"]],[[4,\"width\",null]],null,null,null,null)),(_l()(),core.Bb(49,0,null,0,7,\"ion-row\",[],null,null,null,core_ngfactory.Jb,core_ngfactory.J)),core.Ab(50,49152,null,0,fesm5.lb,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(51,0,null,0,5,\"ion-col\",[],null,null,null,core_ngfactory.mb,core_ngfactory.m)),core.Ab(52,49152,null,0,fesm5.v,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(53,0,null,0,3,\"ion-button\",[[\"color\",\"danger\"],[\"expand\",\"full\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.openReviewsPage()&&ad),ad}),core_ngfactory.eb,core_ngfactory.e)),core.Ab(54,49152,null,0,fesm5.m,[core.j,core.p,core.F],{color:[0,\"color\"],expand:[1,\"expand\"]},null),(_l()(),core.Ub(55,0,[\"\",\" \"])),core.Qb(56,1)],(function(_ck,_v){_ck(_v,12,0,\"5\"),_ck(_v,17,0,\"star\"),_ck(_v,22,0,\"7\"),_ck(_v,27,0,\"star\"),_ck(_v,32,0,\"star\"),_ck(_v,37,0,\"star\"),_ck(_v,42,0,\"star\"),_ck(_v,47,0,\"star\"),_ck(_v,54,0,\"danger\",\"full\")}),(function(_ck,_v){var _co=_v.component,currVal_0=core.Vb(_v,7,0,_ck(_v,8,0,core.Nb(_v.parent,0),\"Ratings & Reviews\"));_ck(_v,7,0,currVal_0);var currVal_2=core.Vb(_v,14,0,_ck(_v,15,0,core.Nb(_v.parent,1),_co.average,\"1.2-2\"));_ck(_v,14,0,currVal_2);var currVal_4=_co.reviews.length,currVal_5=core.Vb(_v,19,1,_ck(_v,20,0,core.Nb(_v.parent,0),\"rating\"));_ck(_v,19,0,currVal_4,currVal_5),_ck(_v,28,0,_co.r5+\"%\"),_ck(_v,33,0,_co.r4+\"%\"),_ck(_v,38,0,_co.r3+\"%\"),_ck(_v,43,0,_co.r2+\"%\"),_ck(_v,48,0,_co.r1+\"%\");var currVal_19=core.Vb(_v,55,0,_ck(_v,56,0,core.Nb(_v.parent,0),\"Rate and write a review\"));_ck(_v,55,0,currVal_19)}))}function View_ReviewsPage_2(_l){return core.Wb(0,[(_l()(),core.Bb(0,0,null,null,14,\"ion-item\",[],null,null,null,core_ngfactory.Ab,core_ngfactory.y)),core.Ab(1,49152,null,0,fesm5.J,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(2,0,null,0,2,\"ion-avatar\",[[\"item-start\",\"\"]],null,null,null,core_ngfactory.bb,core_ngfactory.b)),core.Ab(3,49152,null,0,fesm5.h,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(4,0,null,0,0,\"img\",[[\"src\",\"assets/avatar.png\"]],null,null,null,null,null)),(_l()(),core.Bb(5,0,null,0,1,\"h2\",[],null,null,null,null,null)),(_l()(),core.Ub(6,null,[\"\",\"\"])),(_l()(),core.Bb(7,0,null,0,6,\"ul\",[[\"class\",\"product-rating\"]],null,null,null,null,null)),(_l()(),core.Bb(8,0,null,null,5,\"li\",[],null,null,null,null,null)),(_l()(),core.Bb(9,0,null,null,1,\"div\",[[\"class\",\"stars-outer\"]],null,null,null,null,null)),(_l()(),core.Bb(10,0,null,null,0,\"div\",[[\"class\",\"stars-inner\"]],[[4,\"width\",null]],null,null,null,null)),(_l()(),core.Bb(11,0,null,null,2,\"h6\",[],null,null,null,null,null)),(_l()(),core.Ub(12,null,[\"\",\"\"])),core.Qb(13,2),(_l()(),core.Bb(14,0,null,0,0,\"p\",[],[[8,\"innerHTML\",1]],null,null,null,null))],null,(function(_ck,_v){_ck(_v,6,0,_v.context.$implicit.name),_ck(_v,10,0,20*_v.context.$implicit.rating+\"%\");var currVal_2=core.Vb(_v,12,0,_ck(_v,13,0,core.Nb(_v.parent,2),_v.context.$implicit.date_created,\"dd-MM-yyyy\"));_ck(_v,12,0,currVal_2),_ck(_v,14,0,_v.context.$implicit.review)}))}function View_ReviewsPage_0(_l){return core.Wb(0,[core.Pb(0,translate_app_pipe.a,[shared_data_service.a]),core.Pb(0,common.e,[core.z]),core.Pb(0,common.d,[core.z]),(_l()(),core.Bb(3,0,null,null,12,\"ion-header\",[],null,null,null,core_ngfactory.sb,core_ngfactory.s)),core.Ab(4,49152,null,0,fesm5.D,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(5,0,null,0,10,\"ion-toolbar\",[],null,null,null,core_ngfactory.Zb,core_ngfactory.Z)),core.Ab(6,49152,null,0,fesm5.Eb,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(7,0,null,0,4,\"ion-buttons\",[[\"slot\",\"start\"]],null,null,null,core_ngfactory.fb,core_ngfactory.f)),core.Ab(8,49152,null,0,fesm5.n,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(9,0,null,0,2,\"ion-back-button\",[[\"icon\",\"arrow-round-back\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==core.Nb(_v,11).onClick($event)&&ad),ad}),core_ngfactory.cb,core_ngfactory.c)),core.Ab(10,49152,null,0,fesm5.i,[core.j,core.p,core.F],{icon:[0,\"icon\"]},null),core.Ab(11,16384,null,0,fesm5.j,[[2,fesm5.kb],fesm5.Lb],null,null),(_l()(),core.Bb(12,0,null,0,3,\"ion-title\",[],null,null,null,core_ngfactory.Xb,core_ngfactory.X)),core.Ab(13,49152,null,0,fesm5.Cb,[core.j,core.p,core.F],null,null),(_l()(),core.Ub(14,0,[\"\",\"\"])),core.Qb(15,1),(_l()(),core.Bb(16,0,null,null,7,\"ion-content\",[[\"class\",\"review-page\"]],null,null,null,core_ngfactory.nb,core_ngfactory.n)),core.Ab(17,49152,null,0,fesm5.w,[core.j,core.p,core.F],null,null),(_l()(),core.qb(16777216,null,0,1,null,View_ReviewsPage_1)),core.Ab(19,16384,null,0,common.k,[core.W,core.S],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.Bb(20,0,null,0,3,\"ion-list\",[[\"class\",\"rating-users\"]],null,null,null,core_ngfactory.Cb,core_ngfactory.C)),core.Ab(21,49152,null,0,fesm5.Q,[core.j,core.p,core.F],null,null),(_l()(),core.qb(16777216,null,0,1,null,View_ReviewsPage_2)),core.Ab(23,278528,null,0,common.j,[core.W,core.S,core.x],{ngForOf:[0,\"ngForOf\"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,10,0,\"arrow-round-back\"),_ck(_v,19,0,null!=_co.r5),_ck(_v,23,0,_co.reviews)}),(function(_ck,_v){var currVal_1=core.Vb(_v,14,0,_ck(_v,15,0,core.Nb(_v,0),\"Reviews\"));_ck(_v,14,0,currVal_1)}))}function View_ReviewsPage_Host_0(_l){return core.Wb(0,[(_l()(),core.Bb(0,0,null,null,1,\"app-reviews\",[],null,null,null,View_ReviewsPage_0,RenderType_ReviewsPage)),core.Ab(1,114688,null,0,reviews_page_ReviewsPage,[fesm5.Lb,router.a,core.g,config_service.a,fesm5.Kb,loading_service.a,shared_data_service.a],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var ReviewsPageNgFactory=core.xb(\"app-reviews\",reviews_page_ReviewsPage,View_ReviewsPage_Host_0,{},{},[]),fesm2015_forms=__webpack_require__(\"s7LF\"),pipes_module=__webpack_require__(\"wWlB\");__webpack_require__.d(__webpack_exports__,\"ReviewsPageModuleNgFactory\",(function(){return ReviewsPageModuleNgFactory}));var ReviewsPageModuleNgFactory=core.yb(ReviewsPageModule,[],(function(_l){return core.Kb([core.Lb(512,core.m,core.jb,[[8,[router_ngfactory.a,ReviewsPageNgFactory]],[3,core.m],core.D]),core.Lb(4608,common.m,common.l,[core.z,[2,common.v]]),core.Lb(4608,fesm2015_forms.m,fesm2015_forms.m,[]),core.Lb(4608,fesm5.c,fesm5.c,[core.F,core.g]),core.Lb(4608,fesm5.Kb,fesm5.Kb,[fesm5.c,core.m,core.w]),core.Lb(4608,fesm5.Pb,fesm5.Pb,[fesm5.c,core.m,core.w]),core.Lb(1073742336,common.b,common.b,[]),core.Lb(1073742336,fesm2015_forms.l,fesm2015_forms.l,[]),core.Lb(1073742336,fesm2015_forms.c,fesm2015_forms.c,[]),core.Lb(1073742336,fesm5.Gb,fesm5.Gb,[]),core.Lb(1073742336,router.o,router.o,[[2,router.t],[2,router.m]]),core.Lb(1073742336,pipes_module.a,pipes_module.a,[]),core.Lb(1073742336,ReviewsPageModule,ReviewsPageModule,[]),core.Lb(1024,router.k,(function(){return[[{path:\"\",component:reviews_page_ReviewsPage}]]}),[])])}))}}]);","extractedComments":[]}