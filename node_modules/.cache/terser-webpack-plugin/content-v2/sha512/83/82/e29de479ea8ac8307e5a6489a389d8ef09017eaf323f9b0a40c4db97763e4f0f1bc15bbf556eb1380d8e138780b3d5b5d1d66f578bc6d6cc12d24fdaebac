{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{\"4/Id\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__);var core=__webpack_require__(\"8Y7J\"),tslib_es6=__webpack_require__(\"mrSG\"),fesm5=__webpack_require__(\"ZZ/e\"),loading_service=__webpack_require__(\"KTio\"),config_service=__webpack_require__(\"sf9b\"),shared_data_service=__webpack_require__(\"UmVP\"),scratch_card_page=__webpack_require__(\"OMjV\");class notifications_page_NotificationsPage{constructor(navCtrl,shared,config,http,loading,applicationRef,popoverCtrl,events){this.navCtrl=navCtrl,this.shared=shared,this.config=config,this.http=http,this.loading=loading,this.applicationRef=applicationRef,this.popoverCtrl=popoverCtrl,this.events=events,this.page=1,this.notifications=new Array,this.httpRunning=!0,this.httpRunning=!0,this.getNotifications(),events.subscribe(\"cardScratched\",value=>{this.updateList(value)})}getNotifications(){this.httpRunning=!0,this.loading.show(),this.http.get(this.config.url+\"/api/appusers/ionic_coupon_notification/?insecure=cool&user_id=\"+this.shared.customerData.id).subscribe(data=>{this.httpRunning=!1,this.loading.hide();let dat=data.data;if(1==this.page&&(this.notifications=new Array),0!=dat.length){this.page++;for(let value of dat)this.notifications.push(value)}this.infinite.disabled=!0,0==dat.length&&(this.infinite.disabled=!0),this.applicationRef.tick(),console.log(dat)})}openScratchCard(v){return tslib_es6.b(this,void 0,void 0,(function*(){const popoverElement=yield this.popoverCtrl.create({component:scratch_card_page.a,event:event,componentProps:{data:v}});return yield popoverElement.present()}))}refreshPage(){this.page=1,this.getNotifications()}openShop(){this.navCtrl.navigateForward(\"/products/0/0/newest\")}ionViewDidLoad(){}updateList(data){for(let v of this.notifications)v.id==data.id&&(v.is_view=1,this.shared.toast(\"Congratulations you Get \"+v.message+\" use this code : \"+v.code),this.http.get(this.config.url+\"/api/appusers/ionic_notification_update/?insecure=cool&notification_id=\"+v.id).subscribe(data=>{console.log(data)}))}ngOnInit(){}}class NotificationsPageModule{}var router_ngfactory=__webpack_require__(\"pMnS\"),core_ngfactory=__webpack_require__(\"oBZk\"),common=__webpack_require__(\"SVse\"),translate_app_pipe=__webpack_require__(\"taci\"),http=__webpack_require__(\"IheW\"),RenderType_NotificationsPage=core.zb({encapsulation:0,styles:[[\"ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]{margin-top:50%}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{text-align:center}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{zoom:3.9;color:#d3d3d3}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background:var(--ion-color-primary);--border-radius:0px;height:30px}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin-top:2px}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:14px;color:gray;margin-top:0}.note[_ngcontent-%COMP%]{color:red;width:80px;text-align:center}ion-list[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-list[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-secondary)}.pop[_ngcontent-%COMP%]{width:100%;height:100%}.popover-md[_ngcontent-%COMP%]   .popover-content[_ngcontent-%COMP%]{width:400px!important;height:100px}\"]],data:{}});function View_NotificationsPage_1(_l){return core.Wb(0,[(_l()(),core.Bb(0,0,null,null,29,\"ion-grid\",[[\"class\",\"ion-no-padding\"]],null,null,null,core_ngfactory.rb,core_ngfactory.r)),core.Ab(1,49152,null,0,fesm5.C,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(2,0,null,0,5,\"ion-row\",[[\"class\",\"ion-no-padding\"]],null,null,null,core_ngfactory.Jb,core_ngfactory.J)),core.Ab(3,49152,null,0,fesm5.lb,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(4,0,null,0,3,\"ion-col\",[[\"class\",\"ion-no-padding\"],[\"size\",\"12\"]],null,null,null,core_ngfactory.mb,core_ngfactory.m)),core.Ab(5,49152,null,0,fesm5.v,[core.j,core.p,core.F],{size:[0,\"size\"]},null),(_l()(),core.Bb(6,0,null,0,1,\"ion-icon\",[[\"name\",\"notifications\"]],null,null,null,core_ngfactory.tb,core_ngfactory.t)),core.Ab(7,49152,null,0,fesm5.E,[core.j,core.p,core.F],{name:[0,\"name\"]},null),(_l()(),core.Bb(8,0,null,0,6,\"ion-row\",[[\"class\",\"ion-no-padding\"]],null,null,null,core_ngfactory.Jb,core_ngfactory.J)),core.Ab(9,49152,null,0,fesm5.lb,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(10,0,null,0,4,\"ion-col\",[[\"class\",\"ion-no-padding\"],[\"size\",\"12\"]],null,null,null,core_ngfactory.mb,core_ngfactory.m)),core.Ab(11,49152,null,0,fesm5.v,[core.j,core.p,core.F],{size:[0,\"size\"]},null),(_l()(),core.Bb(12,0,null,0,2,\"h4\",[],null,null,null,null,null)),(_l()(),core.Ub(13,null,[\"\",\"\"])),core.Qb(14,1),(_l()(),core.Bb(15,0,null,0,6,\"ion-row\",[[\"class\",\"ion-no-padding\"]],null,null,null,core_ngfactory.Jb,core_ngfactory.J)),core.Ab(16,49152,null,0,fesm5.lb,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(17,0,null,0,4,\"ion-col\",[[\"class\",\"ion-no-padding\"],[\"size\",\"12\"]],null,null,null,core_ngfactory.mb,core_ngfactory.m)),core.Ab(18,49152,null,0,fesm5.v,[core.j,core.p,core.F],{size:[0,\"size\"]},null),(_l()(),core.Bb(19,0,null,0,2,\"h5\",[],null,null,null,null,null)),(_l()(),core.Ub(20,null,[\"\",\"\"])),core.Qb(21,1),(_l()(),core.Bb(22,0,null,0,7,\"ion-row\",[[\"class\",\"ion-no-padding\"]],null,null,null,core_ngfactory.Jb,core_ngfactory.J)),core.Ab(23,49152,null,0,fesm5.lb,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(24,0,null,0,5,\"ion-col\",[[\"class\",\"ion-no-padding\"],[\"size\",\"12\"]],null,null,null,core_ngfactory.mb,core_ngfactory.m)),core.Ab(25,49152,null,0,fesm5.v,[core.j,core.p,core.F],{size:[0,\"size\"]},null),(_l()(),core.Bb(26,0,null,0,3,\"ion-button\",[[\"color\",\"secondary\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.openShop()&&ad),ad}),core_ngfactory.eb,core_ngfactory.e)),core.Ab(27,49152,null,0,fesm5.m,[core.j,core.p,core.F],{color:[0,\"color\"]},null),(_l()(),core.Ub(28,0,[\"\",\"\"])),core.Qb(29,1)],(function(_ck,_v){_ck(_v,5,0,\"12\"),_ck(_v,7,0,\"notifications\"),_ck(_v,11,0,\"12\"),_ck(_v,18,0,\"12\"),_ck(_v,25,0,\"12\"),_ck(_v,27,0,\"secondary\")}),(function(_ck,_v){var currVal_3=core.Vb(_v,13,0,_ck(_v,14,0,core.Nb(_v.parent,0),\"Your Scratch Cards Coupon List is Empty\"));_ck(_v,13,0,currVal_3);var currVal_5=core.Vb(_v,20,0,_ck(_v,21,0,core.Nb(_v.parent,0),\"continue shopping\"));_ck(_v,20,0,currVal_5);var currVal_8=core.Vb(_v,28,0,_ck(_v,29,0,core.Nb(_v.parent,0),\"Explore\"));_ck(_v,28,0,currVal_8)}))}function View_NotificationsPage_4(_l){return core.Wb(0,[(_l()(),core.Bb(0,0,null,null,3,\"ion-button\",[[\"color\",\"secondary\"],[\"ion-button\",\"\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.openScratchCard(_v.parent.parent.context.$implicit)&&ad),ad}),core_ngfactory.eb,core_ngfactory.e)),core.Ab(1,49152,null,0,fesm5.m,[core.j,core.p,core.F],{color:[0,\"color\"]},null),(_l()(),core.Ub(2,0,[\" \",\" \"])),core.Qb(3,1)],(function(_ck,_v){_ck(_v,1,0,\"secondary\")}),(function(_ck,_v){var currVal_1=core.Vb(_v,2,0,_ck(_v,3,0,core.Nb(_v.parent.parent.parent,0),\"Open Scratch Card\"));_ck(_v,2,0,currVal_1)}))}function View_NotificationsPage_5(_l){return core.Wb(0,[(_l()(),core.Bb(0,0,null,null,2,\"h2\",[],null,null,null,null,null)),(_l()(),core.Ub(1,null,[\"\",\": \",\"\"])),core.Qb(2,1)],null,(function(_ck,_v){var currVal_0=core.Vb(_v,1,0,_ck(_v,2,0,core.Nb(_v.parent.parent.parent,0),\"Code\"));_ck(_v,1,0,currVal_0,_v.parent.parent.context.$implicit.code)}))}function View_NotificationsPage_6(_l){return core.Wb(0,[(_l()(),core.Bb(0,0,null,null,1,\"h3\",[],null,null,null,null,null)),(_l()(),core.Ub(1,null,[\"\",\"\"]))],null,(function(_ck,_v){_ck(_v,1,0,_v.parent.parent.context.$implicit.message)}))}function View_NotificationsPage_3(_l){return core.Wb(0,[(_l()(),core.Bb(0,0,null,null,17,\"ion-item\",[],null,null,null,core_ngfactory.Ab,core_ngfactory.y)),core.Ab(1,49152,null,0,fesm5.J,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(2,0,null,0,1,\"ion-icon\",[[\"name\",\"notifications\"],[\"slot\",\"start\"]],null,null,null,core_ngfactory.tb,core_ngfactory.t)),core.Ab(3,49152,null,0,fesm5.E,[core.j,core.p,core.F],{name:[0,\"name\"]},null),(_l()(),core.qb(16777216,null,0,1,null,View_NotificationsPage_4)),core.Ab(5,16384,null,0,common.k,[core.W,core.S],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.Bb(6,0,null,0,5,\"ion-label\",[],null,null,null,core_ngfactory.Bb,core_ngfactory.B)),core.Ab(7,49152,null,0,fesm5.P,[core.j,core.p,core.F],null,null),(_l()(),core.qb(16777216,null,0,1,null,View_NotificationsPage_5)),core.Ab(9,16384,null,0,common.k,[core.W,core.S],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.qb(16777216,null,0,1,null,View_NotificationsPage_6)),core.Ab(11,16384,null,0,common.k,[core.W,core.S],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.Bb(12,0,null,0,5,\"ion-note\",[[\"class\",\"note\"],[\"slot\",\"end\"]],null,null,null,core_ngfactory.Fb,core_ngfactory.F)),core.Ab(13,49152,null,0,fesm5.ab,[core.j,core.p,core.F],null,null),(_l()(),core.Ub(14,0,[\"\",\" \"])),core.Qb(15,1),(_l()(),core.Bb(16,0,null,0,1,\"small\",[],null,null,null,null,null)),(_l()(),core.Ub(17,null,[\"\",\"\"]))],(function(_ck,_v){_ck(_v,3,0,\"notifications\"),_ck(_v,5,0,0==_v.parent.context.$implicit.is_view),_ck(_v,9,0,1==_v.parent.context.$implicit.is_view),_ck(_v,11,0,1==_v.parent.context.$implicit.is_view)}),(function(_ck,_v){var currVal_4=core.Vb(_v,14,0,_ck(_v,15,0,core.Nb(_v.parent.parent,0),\"Expiry Date\"));_ck(_v,14,0,currVal_4),_ck(_v,17,0,_v.parent.context.$implicit.expire_date)}))}function View_NotificationsPage_2(_l){return core.Wb(0,[(_l()(),core.Bb(0,0,null,null,2,\"div\",[],null,null,null,null,null)),(_l()(),core.qb(16777216,null,null,1,null,View_NotificationsPage_3)),core.Ab(2,16384,null,0,common.k,[core.W,core.S],{ngIf:[0,\"ngIf\"]},null)],(function(_ck,_v){_ck(_v,2,0,\"1\"==_v.context.$implicit.type)}),null)}function View_NotificationsPage_0(_l){return core.Wb(0,[core.Pb(0,translate_app_pipe.a,[shared_data_service.a]),core.Sb(671088640,1,{infinite:0}),(_l()(),core.Bb(2,0,null,null,17,\"ion-header\",[],null,null,null,core_ngfactory.sb,core_ngfactory.s)),core.Ab(3,49152,null,0,fesm5.D,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(4,0,null,0,15,\"ion-toolbar\",[],null,null,null,core_ngfactory.Zb,core_ngfactory.Z)),core.Ab(5,49152,null,0,fesm5.Eb,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(6,0,null,0,3,\"ion-menu-button\",[[\"slot\",\"start\"]],null,null,null,core_ngfactory.Db,core_ngfactory.E)),core.Ab(7,49152,null,0,fesm5.T,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(8,0,null,0,1,\"ion-icon\",[[\"name\",\"menu\"]],null,null,null,core_ngfactory.tb,core_ngfactory.t)),core.Ab(9,49152,null,0,fesm5.E,[core.j,core.p,core.F],{name:[0,\"name\"]},null),(_l()(),core.Bb(10,0,null,0,3,\"ion-title\",[],null,null,null,core_ngfactory.Xb,core_ngfactory.X)),core.Ab(11,49152,null,0,fesm5.Cb,[core.j,core.p,core.F],null,null),(_l()(),core.Ub(12,0,[\" \",\" \"])),core.Qb(13,1),(_l()(),core.Bb(14,0,null,0,5,\"ion-buttons\",[[\"slot\",\"end\"]],null,null,null,core_ngfactory.fb,core_ngfactory.f)),core.Ab(15,49152,null,0,fesm5.n,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(16,0,null,0,3,\"ion-button\",[[\"fill\",\"clear\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.refreshPage()&&ad),ad}),core_ngfactory.eb,core_ngfactory.e)),core.Ab(17,49152,null,0,fesm5.m,[core.j,core.p,core.F],{fill:[0,\"fill\"]},null),(_l()(),core.Bb(18,0,null,0,1,\"ion-icon\",[[\"name\",\"refresh\"]],null,null,null,core_ngfactory.tb,core_ngfactory.t)),core.Ab(19,49152,null,0,fesm5.E,[core.j,core.p,core.F],{name:[0,\"name\"]},null),(_l()(),core.Bb(20,0,null,null,11,\"ion-content\",[],null,null,null,core_ngfactory.nb,core_ngfactory.n)),core.Ab(21,49152,null,0,fesm5.w,[core.j,core.p,core.F],null,null),(_l()(),core.qb(16777216,null,0,1,null,View_NotificationsPage_1)),core.Ab(23,16384,null,0,common.k,[core.W,core.S],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.Bb(24,0,null,0,3,\"ion-list\",[],null,null,null,core_ngfactory.Cb,core_ngfactory.C)),core.Ab(25,49152,null,0,fesm5.Q,[core.j,core.p,core.F],null,null),(_l()(),core.qb(16777216,null,0,1,null,View_NotificationsPage_2)),core.Ab(27,278528,null,0,common.j,[core.W,core.S,core.x],{ngForOf:[0,\"ngForOf\"]},null),(_l()(),core.Bb(28,0,null,0,3,\"ion-infinite-scroll\",[],null,[[null,\"ionInfinite\"]],(function(_v,en,$event){var ad=!0;return\"ionInfinite\"===en&&(ad=!1!==_v.component.getNotifications()&&ad),ad}),core_ngfactory.wb,core_ngfactory.v)),core.Ab(29,49152,[[1,4],[\"infinite\",4]],0,fesm5.G,[core.j,core.p,core.F],null,null),(_l()(),core.Bb(30,0,null,0,1,\"ion-infinite-scroll-content\",[],null,null,null,core_ngfactory.vb,core_ngfactory.w)),core.Ab(31,49152,null,0,fesm5.H,[core.j,core.p,core.F],null,null)],(function(_ck,_v){var _co=_v.component;_ck(_v,9,0,\"menu\"),_ck(_v,17,0,\"clear\"),_ck(_v,19,0,\"refresh\"),_ck(_v,23,0,0==_co.notifications.length&&0==_co.httpRunning),_ck(_v,27,0,_co.notifications)}),(function(_ck,_v){var currVal_1=core.Vb(_v,12,0,_ck(_v,13,0,core.Nb(_v,0),\"Notifications\"));_ck(_v,12,0,currVal_1)}))}function View_NotificationsPage_Host_0(_l){return core.Wb(0,[(_l()(),core.Bb(0,0,null,null,1,\"app-notifications\",[],null,null,null,View_NotificationsPage_0,RenderType_NotificationsPage)),core.Ab(1,114688,null,0,notifications_page_NotificationsPage,[fesm5.Lb,shared_data_service.a,config_service.a,http.c,loading_service.a,core.g,fesm5.Pb,fesm5.f],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var NotificationsPageNgFactory=core.xb(\"app-notifications\",notifications_page_NotificationsPage,View_NotificationsPage_Host_0,{},{},[]),fesm2015_forms=__webpack_require__(\"s7LF\"),router=__webpack_require__(\"iInd\"),pipes_module=__webpack_require__(\"wWlB\");__webpack_require__.d(__webpack_exports__,\"NotificationsPageModuleNgFactory\",(function(){return NotificationsPageModuleNgFactory}));var NotificationsPageModuleNgFactory=core.yb(NotificationsPageModule,[],(function(_l){return core.Kb([core.Lb(512,core.m,core.jb,[[8,[router_ngfactory.a,NotificationsPageNgFactory]],[3,core.m],core.D]),core.Lb(4608,common.m,common.l,[core.z,[2,common.v]]),core.Lb(4608,fesm2015_forms.m,fesm2015_forms.m,[]),core.Lb(4608,fesm5.c,fesm5.c,[core.F,core.g]),core.Lb(4608,fesm5.Kb,fesm5.Kb,[fesm5.c,core.m,core.w]),core.Lb(4608,fesm5.Pb,fesm5.Pb,[fesm5.c,core.m,core.w]),core.Lb(1073742336,common.b,common.b,[]),core.Lb(1073742336,fesm2015_forms.l,fesm2015_forms.l,[]),core.Lb(1073742336,fesm2015_forms.c,fesm2015_forms.c,[]),core.Lb(1073742336,fesm5.Gb,fesm5.Gb,[]),core.Lb(1073742336,router.o,router.o,[[2,router.t],[2,router.m]]),core.Lb(1073742336,pipes_module.a,pipes_module.a,[]),core.Lb(1073742336,NotificationsPageModule,NotificationsPageModule,[]),core.Lb(1024,router.k,(function(){return[[{path:\"\",component:notifications_page_NotificationsPage}]]}),[])])}))}}]);","extractedComments":[]}